<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
<head>
    <meta charset='utf-8'>
    <title>Fresco | 리사이징과 회전</title>
    <link rel='stylesheet' href='/static/site.css' type='text/css'/>
    <link rel="stylesheet" href='/static/pygments.css' type='text/css'/>
    <link rel='shortcut icon' href='/static/favicon.png'>
    <meta name='viewport' content='width=480'>
    <meta property="og:title" content="리사이징과 회전" />
    <meta property="og:site_name" content="fresco">
    <meta property='og:description' content='Fresco is an image management library.'>
    <meta property='og:image' content='http://facebook.github.io/fresco/static/fresco-og-image.png'>
    <meta property='og:url' content="http://facebook.github.io/fresco/docs/resizing-rotating.html">
    
    <meta property='og:type' content='website'>
    
    <script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script>
    <script type="text/javascript">{'try{Typekit.load();}catch(e){}'}</script>
    <!-- Google Analytics -->
</head>
<body>

<header class='topbar'><nav class='width'>
<a href='/'>
  <img src="/static/fresco-logo.png" class="logo">
</a>
    <ul>
      <li><a href="/docs/index.html#_"
          
          class="active" >
          Docs
      </a></li>
      <li><a href="/"
          >
          About
      </a></li>
      <li><a href="/support.html"
          >
          Support
      </a></li>
      <li><a href="/javadoc">
          API
      </a></li>
      <li><a href="http://github.com/facebook/fresco">GitHub</a></li>
      <li><a href="http://fresco-cn.org">中文版</a></li>
      <li><a href="http://fresco.recrack.com">한국어</a></li>
    </ul>
</nav></header>


<section class='content'><div class='width'>

<nav class='toc'>
  
    <section>
      <h3>빠른 시작</h3>
      <ul>
        
          <li>
            <a href="/docs/index.html#_">
              프로젝트에 프레스코 추가하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/getting-started.html#_">
              프레스코 시작하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/concepts.html#_">
              컨셉
            </a>
            
          </li>
        
          <li>
            <a href="/docs/supported-uris.html#_">
              지원하는 URI
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>Drawee 가이드</h3>
      <ul>
        
          <li>
            <a href="/docs/using-drawees-xml.html#_">
              XML의 Drawee 사용하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/using-drawees-code.html#_">
              코드에서 Drawee 사용하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/drawee-components.html#_">
              Drawee 컴퍼넌트
            </a>
            
          </li>
        
          <li>
            <a href="/docs/progress-bars.html#_">
              프로그레스바
            </a>
            
          </li>
        
          <li>
            <a href="/docs/scaling.html#_">
              스케일링
            </a>
            
          </li>
        
          <li>
            <a href="/docs/rounded-corners-and-circles.html#_">
              가장자리 둥글게 혹은 원으로 처리하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/using-controllerbuilder.html#_">
              ControllerBuilder 사용하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/progressive-jpegs.html#_">
              진보된 JPEGs
            </a>
            
          </li>
        
          <li>
            <a href="/docs/animations.html#_">
              움직이는 이미지
            </a>
            
          </li>
        
          <li>
            <a href="/docs/requesting-multiple-images.html#_">
              이미지 여러개 요청하
            </a>
            
          </li>
        
          <li>
            <a href="/docs/listening-download-events.html#_">
              다운로드 이벤트 리스닝
            </a>
            
          </li>
        
          <li>
            <a href="/docs/resizing-rotating.html#_" class="active">
              리사이징과 회전
            </a>
            
          </li>
        
          <li>
            <a href="/docs/modifying-image.html#_">
              이미지 수정하
            </a>
            
          </li>
        
          <li>
            <a href="/docs/image-requests.html#_">
              이미지 리퀘스트
            </a>
            
          </li>
        
          <li>
            <a href="/docs/writing-custom-views.html#_">
              커스텀 뷰 사용하
            </a>
            
          </li>
        
          <li>
            <a href="/docs/gotchas.html#_">
              갓챠
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>이미지 파이프라인 가이드</h3>
      <ul>
        
          <li>
            <a href="/docs/intro-image-pipeline.html#_">
              이미지 파이프라인 소
            </a>
            
          </li>
        
          <li>
            <a href="/docs/configure-image-pipeline.html#_">
              이미지 파이프라인 구성하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/caching.html#_">
              캐시 동작
            </a>
            
          </li>
        
          <li>
            <a href="/docs/using-image-pipeline.html#_">
              이미지 파이프라인 직접 사용하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/datasources-datasubscribers.html#_">
              데이터소스와 데이터 구독자
            </a>
            
          </li>
        
          <li>
            <a href="/docs/closeable-references.html#_">
              닫을 수 있는 참조
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>서드 파티 라이브러리</h3>
      <ul>
        
          <li>
            <a href="/docs/using-other-network-layers.html#_">
              다른 네트워크 레이어 사용하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/using-other-image-loaders.html#_">
              다른 이미지 로더 사용하기하기
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>앱 발행하기</h3>
      <ul>
        
          <li>
            <a href="/docs/proguard.html#_">
              프로가드 사용하기
            </a>
            
          </li>
        
          <li>
            <a href="/docs/multiple-apks.html#_">
              여러개의 APK이용하기
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>컨트리뷰터 가이드</h3>
      <ul>
        
          <li>
            <a href="/docs/building-from-source.html#_">
              소스 빌드하기
            </a>
            
          </li>
        
      </ul>
    </section>
  
</nav>


<article class='withtoc'>
    <h1>
      리사이징과 회전
      <a class="edit-page-link" href="https://github.com/facebook/fresco/tree/gh-pages/docs/01-resizing-rotating.md" target="_blank">Edit on GitHub</a>
    </h1>
    <p></p>

    <p>이 특징은 <a href="using-controllerbuilder.html#ImageRequest">이미지 리퀘스트 만들기</a>를 직접 필요로 합니다.</p>

<h2>이미지 리사이징</h2>

<h3>용어: 리사이징 vs 스케일링</h3>

<ul>
<li><strong>리사이징</strong>은 소프트웨어에서 실행되는 파이프라인 동작입니다. 다른 사이즈의 완전히 새로운 비트맵을 돌려줍니다.</li>
<li><strong>스케일링</strong>은 보통 하드웨어 가속으로 캔버스에서 수행됩니다. 비트맵은 항상 같은 크기고 업스케일되거나 다운스케일되어 그려집니다.</li>
</ul>

<h3>리사이징할 것이냐, 스케일할 것이냐?</h3>

<p>리사이징은 거의 필요하지 않습니다. 리사이징된 스케일링이 보통 선호됩니다.
다음은 리사이징의 몇가지 한계입니다.</p>

<ul>
<li>리사이징은 더 큰 이미지를 주지 못하도록 제한되어 있습니다. 더 작은 이미지를 만드는 것만 가능합니다.</li>
<li>그 순간에는 JPEG이미지만 리사이즈될 수 있습니다.</li>
<li>결과 이미지의 차원을 조절하는 단순한 방법이 있습니다. 이미지는 정확한 사이즈로 리사이즈할 수 없지만 한 리사이즈 요소를 줄일 수 있습니다. 이는 리사이즈된 이미지는 화면에 표시되기 전에 스케일될 필요가 있다는 것입니다.</li>
<li>다음 리사이즈 요소가 지원됩니다: <code>N/8</code> (이 때 <code>1 &lt;= N &lt;=8</code>)</li>
<li>리사이즈는 소프트웨어단에서 수행되며 하드웨어가속 방법의 스케일링보다 훨씬 느립니다.</li>
</ul>

<p>반면에 스케일링은 이런 제한이 없습니다. 스케일링은 뷰 크기에 이미지를 맞추는 안드로이드 시스템만의 방법을 사용합니다. 안드로이드 4.0과 이후 버전에서 장치의 GPU를 이용한  하드웨어 가속방법이 적용됩니다. 대부분 원하는 크기의 이미지를 화면에 표시하는데 효율적인 방법입니다. 단점은 이미지가 뷰의 크기보다 훨씬 크다면 메모리가 낭비 되는 점입니다.</p>

<p>왜 리사이징을 사용해야 할까요? 트레이드 오프 때문입니다. 메모리를 절약하며 뷰크기보다 훨씬 큰 이미지를 표시할 필요가 있다면 항상 리사이즈를 이용해야 합니다. 한 적절한 예제로 8MP사진을 1280*720(대략 1MP) 뷰에 표시하고 싶을 때 입니다. 8MP이미지는 픽셀당 4byte인 ARGB 비트맵으로 디코드할 때 32MB의 메모리를 점유합니다. 만약 이 뷰의 크기에 맞게 리사이즈하면 4MB보다 적은 크기를 점유하게 됩니다.</p>

<p>리사이징을 생각 하기전에는, 이미지가 네트워크에서 온다면, 적절한 사이즈의 이미지를 요청할 것입니다. 더 작은 사진을 요청할 수 있다면, 서버의 8MB 고해상도 사진을 요청하면 안됩니다. 당신의 사용자는 싼 요금제를 사용할 수 있고 이것을 고려해야 합니다. 게다가 더 작은 이미지를 불러오는 것은 앱의 내부 저장소와 CPU 작동시간을 절약할 수 있습니다.</p>

<p>서버가 더 작은 이미지의 대체 URI를 제공하지 못한다거나, 로컬의 사진을 이용한다면 리사이징을 이용하세요. 이미지를 업스케일링하는 것을 포함한 다른 모든 경우엔 스케일링이 사용되야 합니다. 스케일하려면, 다른 Android 뷰와 같은 방식으로 간단하게 <code>SimpleDraweeView</code>의 <code>layout_width</code>와 <code>layout_height</code>를 설정한 후, [스케일 타입]을 지정하세요.</p>

<h3>리사이징</h3>

<p>리사이징은 원본 파일을 수정하지 않습니다. 리사이징은 디코드 되기 전 메모리의 이미지 크기를 변경할 뿐입니다.</p>

<p>안드로이드 시스템에선 더 큰 범위의 리사이징을 가능하도록 합니다. 어떤 경우 장치의 카메라로 촬영된 이미지는 종종 스케일하기엔 너무 큰 나머지 화면에 표시되기 전에 리사이즈 될 필요가 있습니다.</p>

<p>현재 JPEG 형식의 이미지만 리사이징을 지원하긴 하지만, 어쨋든 이 형식은 가장 널리 사용되는 이미지 형식이고 대부분의 카메라가 있는 안드로이드 장치가 JPEG형식으로 파일을 저장합니다.</p>

<p><code>ImageRequest</code> 오브젝트를 만들 때, 리사이즈하기 위해 <a href="../javadoc/reference/com/facebook/imagepipeline/common/ResizeOptions.html">ResizeOptions</a>을 전달하세요.</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">&quot;file:///mnt/sdcard/MyApp/myfile.jpg&quot;</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">50</span><span class="o">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>
<span class="n">ImageRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="n">ImageRequestBuilder</span><span class="o">.</span><span class="na">newBuilderWithSource</span><span class="o">(</span><span class="n">uri</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setResizeOptions</span><span class="o">(</span><span class="k">new</span> <span class="nf">ResizeOptions</span><span class="o">(</span><span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="n">PipelineDraweeController</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">Fresco</span><span class="o">.</span><span class="na">newDraweeControllerBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">setOldController</span><span class="o">(</span><span class="n">mDraweeView</span><span class="o">.</span><span class="na">getController</span><span class="o">())</span>
    <span class="o">.</span><span class="na">setImageRequest</span><span class="o">(</span><span class="n">request</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="n">mSimpleDraweeView</span><span class="o">.</span><span class="na">setController</span><span class="o">(</span><span class="n">controller</span><span class="o">);</span>
</code></pre></div>
<h2><a name="rotate"></a>자동 회전</h2>

<p>이미지를 옆으로 보는 건 아주 짜증나는 일입니다. 많은 장치들이 JPEG파일의 메타데이터에 방향을 저장합니다. 만약 이미지가 장치의 방향에 맞게 자동으로 회전되길 원한다면 이미지 요청할 때 다음과 같이 사용할 수 있습니다.</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ImageRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="n">ImageRequestBuilder</span><span class="o">.</span><span class="na">newBuilderWithSource</span><span class="o">(</span><span class="n">uri</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setAutoRotateEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="c1">// 위쪽의 코드</span>
</code></pre></div>

    <div class="docs-prevnext">
      
        <a href="/docs/listening-download-events.html#_">&larr; Prev</a>
      
      
        <a class="right" href="/docs/modifying-image.html#_">Next &rarr;</a>
      
    </div>

    <a id="_"></a>
</article>

</div></section>
<footer><div class='width'>
    &copy; Copyright 2015, Facebook Inc.<br>
    Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Sample code licensed under the <a href="/sample-license.html">sample license</a>.
</div></footer>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39814281-9', 'auto');
  ga('send', 'pageview');

</script>
<script src="/static/linkify.js"></script>
</body>
</html>

